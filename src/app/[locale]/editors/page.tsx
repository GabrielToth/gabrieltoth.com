import { PageProps } from "@/app/[locale]/editors/editors-types"
import StructuredData from "@/components/seo/structured-data"
import Breadcrumbs from "@/components/ui/breadcrumbs"
import { generateSeoConfig } from "@/lib/seo"
import { Metadata } from "next"
import { getEditorsTranslations } from "./editors-translations"
import {
    AboutSection,
    BenefitsSection,
    CTASection,
    HeroSection,
    RequirementsSection,
    ToolsSection,
} from "./editors-view"

export async function generateMetadata({
    params,
}: PageProps): Promise<Metadata> {
    const { locale } = await params
    const isPortuguese = locale === "pt-BR"

    const seoConfig = generateSeoConfig({
        locale,
        path: "/editors",
        title: isPortuguese
            ? "Trabalhe Como Editor de Vídeo - 90% do AdSense - Gabriel Toth"
            : "Work as Video Editor - 90% AdSense Revenue - Gabriel Toth",
        description: isPortuguese
            ? "Junte-se à nossa equipe de editores e ganhe 90% do AdSense gerado pelos vídeos que você editar. Trabalho flexível, pagamento por performance e projetos interessantes."
            : "Join our video editing team and earn 90% of AdSense generated by videos you edit. Flexible work, performance-based payment and interesting projects.",
        keywords: isPortuguese
            ? [
                  "editor de vídeo",
                  "trabalho remoto",
                  "adsense",
                  "pagamento por performance",
                  "edição youtube",
                  "freelancer",
                  "gabriel toth",
                  "trabalho flexible",
              ]
            : [
                  "video editor",
                  "remote work",
                  "adsense",
                  "performance payment",
                  "youtube editing",
                  "freelancer",
                  "gabriel toth",
                  "flexible work",
              ],
        ogType: "article",
        ogImage: "https://gabrieltoth.com/og-image-editors.jpg",
    })

    return {
        title: seoConfig.title,
        description: seoConfig.description,
        keywords: seoConfig.additionalMetaTags?.find(
            tag => tag.name === "keywords"
        )?.content,
        robots: seoConfig.additionalMetaTags?.find(tag => tag.name === "robots")
            ?.content,
        openGraph: {
            title: seoConfig.openGraph?.title,
            description: seoConfig.openGraph?.description,
            url: seoConfig.canonical,
            type: seoConfig.openGraph?.type as "website",
            locale: seoConfig.openGraph?.locale,
            images: seoConfig.openGraph?.images?.map(img => ({
                url: img.url!,
                width: img.width,
                height: img.height,
                alt: img.alt!,
                type: img.type,
            })),
            siteName: "Gabriel Toth Portfolio",
        },
        twitter: {
            card: seoConfig.twitter?.card as "summary_large_image",
            title: seoConfig.twitter?.title,
            description: seoConfig.twitter?.description,
            images: seoConfig.twitter?.images,
            creator: seoConfig.twitter?.creator,
            site: seoConfig.twitter?.site,
        },
        alternates: {
            canonical: seoConfig.canonical,
            languages: {
                en: "https://gabrieltoth.com/editors",
                "pt-BR": "https://gabrieltoth.com/pt-BR/editors",
                "x-default": "https://gabrieltoth.com/editors",
            },
        },
    }
}

export default async function EditorsPage({ params }: PageProps) {
    const { locale } = await params
    const isPortuguese = locale === "pt-BR"
    const t = await getEditorsTranslations(locale)

    // Job posting structured data
    const jobStructuredData = {
        "@context": "https://schema.org",
        "@type": "JobPosting",
        title: isPortuguese
            ? "Editor de Vídeo Freelancer"
            : "Freelance Video Editor",
        description: isPortuguese
            ? "Oportunidade única de trabalhar como editor de vídeo e ganhar 90% do AdSense dos vídeos editados"
            : "Unique opportunity to work as video editor and earn 90% of AdSense from edited videos",
        hiringOrganization: {
            "@type": "Person",
            name: "Gabriel Toth Gonçalves",
            url: "https://gabrieltoth.com",
        },
        jobLocation: {
            "@type": "Place",
            address: {
                "@type": "PostalAddress",
                addressCountry: "BR",
            },
        },
        employmentType: "CONTRACTOR",
        workHours: "Flexible",
        baseSalary: {
            "@type": "MonetaryAmount",
            currency: "BRL",
            value: {
                "@type": "QuantitativeValue",
                value: "Variable based on performance",
            },
        },
        responsibilities: isPortuguese
            ? "Editar vídeos com qualidade profissional, seguir briefings, entregar no prazo"
            : "Edit videos with professional quality, follow briefs, deliver on time",
        qualifications: isPortuguese
            ? "Experiência em edição de vídeo, conhecimento em software de edição, criatividade"
            : "Video editing experience, editing software knowledge, creativity",
    }

    // FAQ data
    const faqs = isPortuguese
        ? [
              {
                  question: "Como funciona o pagamento de 90% do AdSense?",
                  answer: "Você recebe 90% de toda a receita do AdSense gerada pelos vídeos que editar. O pagamento é feito mensalmente via PIX ou transferência bancária.",
              },
              {
                  question: "Preciso ter equipamentos específicos?",
                  answer: "Você precisa de um computador com capacidade para edição de vídeo e software de edição (Adobe Premiere, DaVinci Resolve, etc.).",
              },
              {
                  question: "Qual o volume de trabalho?",
                  answer: "O volume é flexível e baseado na sua disponibilidade. Pode variar de alguns vídeos por semana a projetos maiores.",
              },
          ]
        : [
              {
                  question: "How does the 90% AdSense payment work?",
                  answer: "You receive 90% of all AdSense revenue generated by videos you edit. Payment is made monthly via bank transfer or digital payment.",
              },
              {
                  question: "Do I need specific equipment?",
                  answer: "You need a computer capable of video editing and editing software (Adobe Premiere, DaVinci Resolve, etc.).",
              },
              {
                  question: "What's the work volume?",
                  answer: "Volume is flexible and based on your availability. Can range from a few videos per week to larger projects.",
              },
          ]

    // Breadcrumbs
    const breadcrumbs = [
        {
            name: isPortuguese ? "Início" : "Home",
            url: `https://gabrieltoth.com/${locale}`,
        },
        {
            name: isPortuguese ? "Oportunidades" : "Opportunities",
            url: `https://gabrieltoth.com/${locale}/#opportunities`,
        },
        {
            name: isPortuguese ? "Trabalhe Como Editor" : "Work as Editor",
            url: `https://gabrieltoth.com/${locale}/editors`,
        },
    ]

    return (
        <>
            <StructuredData
                locale={locale}
                type="all"
                customData={jobStructuredData}
                breadcrumbs={breadcrumbs}
                faqs={faqs}
            />

            <div className="min-h-screen bg-white dark:bg-gray-900">
                <div className="container mx-auto px-4 py-8">
                    <Breadcrumbs
                        items={breadcrumbs.map(item => ({
                            name: item.name,
                            href: item.url.replace(
                                "https://gabrieltoth.com",
                                ""
                            ),
                        }))}
                        className="mb-6"
                    />

                    <main className="flex min-h-screen flex-col items-center justify-between">
                        <HeroSection t={t} />
                        <AboutSection t={t} />
                        <ToolsSection t={t} />
                        <RequirementsSection t={t} />
                        <BenefitsSection t={t} />
                        <CTASection t={t} />
                    </main>
                </div>
            </div>
        </>
    )
}
